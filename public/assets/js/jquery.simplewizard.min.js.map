{"version":3,"sources":["jquery.simplewizard.js"],"names":["$","Plugin","el","options","this","$el","$steps","find","$indicators","opts","extend","cssClassStepDone","cssClassStepActive","onInit","onChange","onFinish","onChangeTimeout","validation","formToValidate","undefined","validator","closest","isUnobtrusive","unobtrusive","init","pluginName","prototype","self","on","e","preventDefault","nextStep","prevStep","targetIndex","val","gotoStep","finish","current","getCurrentStep","eq","$target","target","hash","$targetStep","filter","length","index","first","addClass","validate","ignore","data","settings","triggerHandler","onChangeEventHandler","clearTimeout","setTimeout","updateIndicators","isValid","removeClass","next","prev","not","result","valid","fn","args","Array","slice","call","arguments","each","hasOwnProperty","instance","apply","jQuery"],"mappings":"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","file":"jquery.simplewizard.min.js","sourcesContent":["/**\n * jquery-simple-wizard - A jQuery plugin for creating a simple wizard.\n * @version v0.1.0\n * @link https://github.com/dnasir/jquery-simple-wizard\n * @license MIT\n */\n(function ($) {\n    \"use strict\";\n\n    var pluginName = \"simpleWizard\";\n\n    function Plugin(el, options) {\n        this.$el = $(el);\n        this.$steps = this.$el.find(\".wizard-step\");\n        this.$indicators = this.$el.find(\".wizard-step-indicator\");\n        this.opts = $.extend({\n            cssClassStepDone: \"wizard-done\",\n            cssClassStepActive: \"wizard-current\",\n            onInit: function () {},\n            onChange: function () {},\n            onFinish: function () {}\n        }, options);\n        this.onChangeTimeout = null;\n        this.validation = {\n            formToValidate: ($.validator !== undefined ? this.$el.closest(\"form\") : undefined),\n            isUnobtrusive: $.validator.unobtrusive !== undefined\n        };\n        this.init();\n    }\n\n    Plugin.prototype = {\n        init: function () {\n            var self = this;\n\n            self.$el.on(\"click\", \".wizard-next\", function (e) {\n                e.preventDefault();\n                self.nextStep();\n            });\n\n            self.$el.on(\"click\", \".wizard-prev\", function (e) {\n                e.preventDefault();\n                self.prevStep();\n            });\n\n            self.$el.on(\"click\", \".wizard-goto\", function (e) {\n                e.preventDefault();\n                var targetIndex = $(this).val();\n                self.gotoStep(targetIndex);\n            });\n\n            self.$el.on(\"click\", \".wizard-finish\", function (e) {\n                e.preventDefault();\n                self.finish();\n            });\n\n            self.$el.on(\"wizard_onInit\", function (e) {\n                if (typeof (self.opts.onInit) === \"function\") {\n                    self.opts.onInit(e);\n                }\n            });\n\n            self.$el.on(\"wizard_onChange\", function (e) {\n                if (typeof (self.opts.onChange) === \"function\") {\n                    var current = self.getCurrentStep();\n                    self.opts.onChange(e, self.$steps.eq(current));\n                }\n            });\n\n            self.$el.on(\"wizard_onFinish\", function (e) {\n                if (typeof (self.opts.onFinish) === \"function\") {\n                    self.opts.onFinish(e);\n                }\n            });\n\n            self.$el.on(\"click\", \"a\", function (e) {\n                var $target = $(e.target.hash),\n                    $targetStep = self.$steps.filter($target);\n\n                if ($targetStep.length) {\n                    e.preventDefault();\n                    self.gotoStep($targetStep.index());\n                }\n            });\n\n            this.$steps.first().addClass(this.opts.cssClassStepActive);\n            this.$indicators.first().addClass(this.opts.cssClassStepActive);\n\n            if (this.validation.formToValidate) {\n                this.validation.formToValidate.validate({\n                    ignore: \".wizard-ignore\"\n                });\n            }\n\n            if (this.validation.formToValidate && this.validation.isUnobtrusive) {\n                $.data(this.validation.formToValidate[0], \"validator\").settings.ignore += \",.wizard-ignore\";\n            }\n\n            this.$el.triggerHandler(\"wizard_onInit\");\n        },\n\n        // onChange event handler buffer - this will prevent multiple event raise\n        onChangeEventHandler: function () {\n            var self = this;\n\n            clearTimeout(self.onChangeTimeout);\n            self.onChangeTimeout = setTimeout(function () {\n                if (self.$indicators.length) {\n                    self.updateIndicators();\n                }\n\n                self.$el.triggerHandler(\"wizard_onChange\");\n            }, 100);\n        },\n\n        // methods\n\n        getCurrentStep: function () {\n            return this.$steps.filter(\".\" + this.opts.cssClassStepActive).index();\n        },\n\n        nextStep: function () {\n            var current = this.getCurrentStep();\n            if (!this.isValid(current)) {\n                return;\n            }\n\n            if (current >= this.$steps.length) {\n                return;\n            }\n\n            this.$steps.filter(\".\" + this.opts.cssClassStepActive)\n                .addClass(this.opts.cssClassStepDone).removeClass(this.opts.cssClassStepActive)\n                .next().addClass(this.opts.cssClassStepActive);\n\n            this.onChangeEventHandler();\n        },\n\n        prevStep: function () {\n            var current = this.getCurrentStep();\n\n            if (current <= 0) {\n                return;\n            }\n\n            this.$steps.filter(\".\" + this.opts.cssClassStepActive)\n                .removeClass(this.opts.cssClassStepActive)\n                .prev().addClass(this.opts.cssClassStepActive);\n\n            this.onChangeEventHandler();\n        },\n\n        gotoStep: function (index) {\n            if (index < 0 || index > this.$steps.length) {\n                return;\n            }\n\n            var current = this.getCurrentStep();\n            if (index > current) {\n                while (current < index) {\n                    this.nextStep();\n                    if (!this.isValid(current)) {\n                        break;\n                    }\n                    current = this.getCurrentStep();\n                }\n            } else if (index < current) {\n                while (current > index) {\n                    this.prevStep();\n                    current = this.getCurrentStep();\n                }\n            }\n        },\n\n        finish: function () {\n            this.$el.triggerHandler(\"wizard_onFinish\");\n        },\n\n        updateIndicators: function () {\n            var current = this.getCurrentStep();\n            this.$indicators\n                .filter(function (index) {\n                    return index < current;\n                })\n                .addClass(this.opts.cssClassStepDone);\n            this.$indicators.removeClass(this.opts.cssClassStepActive)\n                .eq(current).addClass(this.opts.cssClassStepActive);\n        },\n\n        isValid: function (current) {\n            if (this.validation.formToValidate === undefined) {\n                return true;\n            }\n\n            this.$steps.not(\":eq(\" + current + \")\").find(\"input, textarea\").addClass(\"wizard-ignore\");\n\n            var result = this.validation.formToValidate.valid();\n\n            this.$steps.find(\"input, textarea\").removeClass(\"wizard-ignore\");\n\n            return result;\n        }\n    };\n\n    $.fn[pluginName] = function (options) {\n        var args = Array.prototype.slice.call(arguments, 1);\n\n        return this.each(function () {\n            if (!$.data(this, \"plugin_\" + pluginName)) {\n                $.data(this, \"plugin_\" + pluginName, new Plugin(this, options));\n            } else if (typeof options === \"string\" && Plugin.prototype.hasOwnProperty(options)) {\n                var instance = $.data(this, \"plugin_\" + pluginName);\n                Plugin.prototype[options].apply(instance, args);\n            }\n        });\n    };\n})(jQuery);\n"],"sourceRoot":"/source/"}