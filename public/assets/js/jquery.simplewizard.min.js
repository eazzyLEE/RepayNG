/**
 * jquery-simple-wizard - A jQuery plugin for creating a simple wizard.
 * @version v0.1.0
 * @link https://github.com/dnasir/jquery-simple-wizard
 * @license MIT
 */
!function(t){"use strict";function i(i,s){this.$el=t(i),this.$steps=this.$el.find(".wizard-step"),this.$indicators=this.$el.find(".wizard-step-indicator"),this.opts=t.extend({cssClassStepDone:"wizard-done",cssClassStepActive:"wizard-current",onInit:function(){},onChange:function(){},onFinish:function(){}},s),this.onChangeTimeout=null,this.validation={formToValidate:void 0!==t.validator?this.$el.closest("form"):void 0,isUnobtrusive:void 0!==t.validator.unobtrusive},this.init()}var s="simpleWizard";i.prototype={init:function(){var i=this;i.$el.on("click",".wizard-next",function(t){t.preventDefault(),i.nextStep()}),i.$el.on("click",".wizard-prev",function(t){t.preventDefault(),i.prevStep()}),i.$el.on("click",".wizard-goto",function(s){s.preventDefault();var e=t(this).val();i.gotoStep(e)}),i.$el.on("click",".wizard-finish",function(t){t.preventDefault(),i.finish()}),i.$el.on("wizard_onInit",function(t){"function"==typeof i.opts.onInit&&i.opts.onInit(t)}),i.$el.on("wizard_onChange",function(t){if("function"==typeof i.opts.onChange){var s=i.getCurrentStep();i.opts.onChange(t,i.$steps.eq(s))}}),i.$el.on("wizard_onFinish",function(t){"function"==typeof i.opts.onFinish&&i.opts.onFinish(t)}),i.$el.on("click","a",function(s){var e=t(s.target.hash),n=i.$steps.filter(e);n.length&&(s.preventDefault(),i.gotoStep(n.index()))}),this.$steps.first().addClass(this.opts.cssClassStepActive),this.$indicators.first().addClass(this.opts.cssClassStepActive),this.validation.formToValidate&&this.validation.formToValidate.validate({ignore:".wizard-ignore"}),this.validation.formToValidate&&this.validation.isUnobtrusive&&(t.data(this.validation.formToValidate[0],"validator").settings.ignore+=",.wizard-ignore"),this.$el.triggerHandler("wizard_onInit")},onChangeEventHandler:function(){var t=this;clearTimeout(t.onChangeTimeout),t.onChangeTimeout=setTimeout(function(){t.$indicators.length&&t.updateIndicators(),t.$el.triggerHandler("wizard_onChange")},100)},getCurrentStep:function(){return this.$steps.filter("."+this.opts.cssClassStepActive).index()},nextStep:function(){var t=this.getCurrentStep();this.isValid(t)&&(t>=this.$steps.length||(this.$steps.filter("."+this.opts.cssClassStepActive).addClass(this.opts.cssClassStepDone).removeClass(this.opts.cssClassStepActive).next().addClass(this.opts.cssClassStepActive),this.onChangeEventHandler()))},prevStep:function(){var t=this.getCurrentStep();0>=t||(this.$steps.filter("."+this.opts.cssClassStepActive).removeClass(this.opts.cssClassStepActive).prev().addClass(this.opts.cssClassStepActive),this.onChangeEventHandler())},gotoStep:function(t){if(!(0>t||t>this.$steps.length)){var i=this.getCurrentStep();if(t>i)for(;t>i&&(this.nextStep(),this.isValid(i));)i=this.getCurrentStep();else if(i>t)for(;i>t;)this.prevStep(),i=this.getCurrentStep()}},finish:function(){this.$el.triggerHandler("wizard_onFinish")},updateIndicators:function(){var t=this.getCurrentStep();this.$indicators.filter(function(i){return t>i}).addClass(this.opts.cssClassStepDone),this.$indicators.removeClass(this.opts.cssClassStepActive).eq(t).addClass(this.opts.cssClassStepActive)},isValid:function(t){if(void 0===this.validation.formToValidate)return!0;this.$steps.not(":eq("+t+")").find("input, textarea").addClass("wizard-ignore");var i=this.validation.formToValidate.valid();return this.$steps.find("input, textarea").removeClass("wizard-ignore"),i}},t.fn[s]=function(e){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){if(t.data(this,"plugin_"+s)){if("string"==typeof e&&i.prototype.hasOwnProperty(e)){var a=t.data(this,"plugin_"+s);i.prototype[e].apply(a,n)}}else t.data(this,"plugin_"+s,new i(this,e))})}}(jQuery);
//# sourceMappingURL=jquery.simplewizard.min.js.map
